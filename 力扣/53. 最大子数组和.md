给你一个整数数组 `nums` ，请你找出一个具有最大和的连续子数组（子数组最少包含一个元素），返回其最大和。

**子数组**是数组中的一个连续部分。

```
**示例 1：**

**输入：**nums = [-2,1,-3,4,-1,2,1,-5,4]
**输出：**6
**解释：**连续子数组 [4,-1,2,1] 的和最大，为 6 。

**示例 2：**

**输入：**nums = [1]
**输出：**1

**示例 3：**

**输入：**nums = [5,4,-1,7,8]
**输出：**23

**提示：**

- `1 <= nums.length <= 105`
- `-104 <= nums[i] <= 104`
```

```
/**

* @param {number[]} nums

* @return {number}

*/

var maxSubArray = function(nums) {

if (!nums || nums.length === 0) {

throw new Error("输入数组不能为空");

}

  

let currentSum = nums[0];

let maxSum = nums[0];

  

let start = 0; // 结果子数组的起始下标

let end = 0; // 结果子数组的结束下标

let tempStart = 0; // 当前尝试子数组的起始下标

  

for (let i = 1; i < nums.length; i++) {

// 如果从当前元素重新开始更好，则重置 currentSum 和 tempStart

if (nums[i] > currentSum + nums[i]) {

currentSum = nums[i];

tempStart = i;

} else {

currentSum += nums[i];

}

  

// 如果当前和超过了历史最大和，则更新 maxSum 和起止下标

if (currentSum > maxSum) {

maxSum = currentSum;

start = tempStart;

end = i;

}

}

  

return maxSum;

}
```