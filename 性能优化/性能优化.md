#### 如何做到页面一部分资源返回，其他资源延迟返回 利用 HTML 原生能力调整加载顺序

1、利用 HTML 原生能力调整加载顺序
比如script标签：
`defer`：脚本**并行下载**，在 DOM 解析完成后、`DOMContentLoaded` 前按顺序执行，不阻塞 HTML 解析。
 `async`：脚本并行下载，下载完就执行，**执行时机不确定**，适合与其它脚本无依赖的第三方库。
2、用 JS 动态加载（按需 import / 动态插入 script）
- 代码分割 + 动态 import（模块按需返回）
```
// 访问到某个路由/按钮点击时，再加载对应模块
button.addEventListener('click', () => {
  import('./heavy-module.js').then(mod => {
    mod.init();
  });
});
```
3、图片懒加载（视口内再返回)
IntersectionObserver 懒加载图片
4、CSS / 字体的“部分立即、部分延后
- css
```
<!-- 关键 CSS 直接内联 或 单独小文件 -->
<style>
  /* above the fold 样式 */
  body { font-family: system-ui; }
</style>

<!-- 非关键样式异步加载 -->
<link rel="stylesheet" href="/css/non-critical.css"
      media="print"
      onload="this.media='all'">
```
- 字体
```
@font-face {
  font-family: 'Custom';
  src: url('/fonts/custom.woff2') format('woff2');
  font-display: swap;  /* 先用系统字体渲染，字体加载完成后再替换 */
}
```




